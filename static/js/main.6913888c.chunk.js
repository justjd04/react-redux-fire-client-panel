(this["webpackJsonpreact-redux-fire-client-panel"]=this["webpackJsonpreact-redux-fire-client-panel"]||[]).push([[0],{232:function(e,t,c){},427:function(e,t,c){"use strict";c.r(t);var a=c(8),n=c(3),i=c(39),r=c.n(i),s=(c(231),c(232),c(59)),l=c(60),o=c(62),j=c(61),d=c(16),b=c(17),h=c(20),u=c(431),O=c(432),m=c(433),x=c(434),f=c(225),p=c(429),g=c(430),N=c(2),v=function(){return Object(N.jsxs)(p.a,{className:"ml-auto",navbar:!0,children:[Object(N.jsx)(g.a,{className:"mr-2",children:Object(N.jsx)(d.b,{to:"/login",children:"Login"})}),Object(N.jsx)(g.a,{children:Object(N.jsx)(d.b,{to:"/register",children:"Register"})})]})},E=c(15),w=c(76);c(428),c(239);w.a.initializeApp({apiKey:"AIzaSyBQyXnjlDaFdId-Wq_DuHlPI8tlIe6LeQI",authDomain:"client-panel-98852.firebaseapp.com",projectId:"client-panel-98852",storageBucket:"client-panel-98852.appspot.com",messagingSenderId:"740579443557",appID:"1:740579443557:web:9bb19377c1b3629177178c",measurementId:"G-77P4B9QG7N"});var y=w.a.firestore(),C=w.a.auth(),S=Object(E.b)(null,(function(e){return{signOut:function(){return e((function(e,t){C.signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.signOut,c=e.profile;return Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"50%",listStyle:"none"},children:[Object(N.jsx)(g.a,{children:c.name}),Object(N.jsx)(g.a,{children:Object(N.jsx)(d.b,{exact:!0,to:"/",children:"Dashboard"})}),Object(N.jsx)(g.a,{children:Object(N.jsx)(d.b,{to:"/setting",children:"Setting"})}),Object(N.jsx)(g.a,{children:Object(N.jsx)("div",{style:{cursor:"pointer"},onClick:t,children:"Logout"})})]})})),R=c(12),A=Object(E.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,c=e.profile,a=Object(n.useState)(!1),i=Object(h.a)(a,2),r=i[0],s=i[1];return Object(N.jsx)("div",{children:Object(N.jsx)(u.a,{color:"primary",light:!0,className:"text-white",fixed:"top",expand:"md",children:Object(N.jsxs)(O.a,{children:[Object(N.jsx)(m.a,{children:"Client Panel"}),Object(N.jsx)(x.a,{onClick:function(){s(!r)}}),Object(N.jsx)(f.a,{isOpen:r,navbar:!0,children:function(){if(Object(R.isLoaded)(t))return t.uid?Object(N.jsx)(S,{profile:c}):Object(N.jsx)(v,{})}()})]})})})})),D=c(435),T=c(436),I=c(438),_=c(22),L=c(437),k=function(e){var t=e.clients;return t.length>0?Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",md:"10",className:"mt-2",children:Object(N.jsxs)(L.a,{striped:!0,responsive:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Balance"}),Object(N.jsx)("th",{})]})}),Object(N.jsx)("tbody",{children:t&&t.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{className:"text-capitalize",children:[Object(N.jsx)("span",{children:e.firstName})," ",Object(N.jsx)("span",{children:e.lastName})]}),Object(N.jsx)("td",{children:e.email}),Object(N.jsxs)("td",{children:["$",e.balance]}),Object(N.jsx)("td",{children:Object(N.jsx)(d.b,{to:"/client/".concat(e.id),children:Object(N.jsxs)(I.a,{color:"secondary",size:"sm",className:"px-2 d-flex align-items-center",children:[Object(N.jsx)("i",{className:"fas fa-arrow-circle-right mr-1"}),"Detail"]})})})]},e.id)}))})]})})}):Object(N.jsx)("h5",{className:"mt-3",children:" No Clients "})},B=Object(_.c)(Object(E.b)((function(e){var t=e.firebase.auth,c=e.firestore.ordered;return{clients:c.clients,setting:c.setting?c.setting[0]:null,auth:t}})),Object(R.firestoreConnect)((function(e){return[{collection:"clients",where:[["authorId","==",e.auth.uid]]},{collection:"setting",doc:e.auth.uid}]})))((function(e){var t=e.clients,c=e.setting;return Object(N.jsxs)(O.a,{children:[Object(N.jsxs)(D.a,{children:[Object(N.jsxs)(T.a,{sm:"12",md:"10",className:"d-flex justify-content-between align-items-baseline flex-wrap",children:[Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("span",{className:"d-flex align-items-center mr-2",children:Object(N.jsx)("i",{className:"fas fa-users"})}),Object(N.jsx)("h2",{className:"mb-0",children:"Clients"})]}),Object(N.jsxs)("div",{className:"d-flex my-1",children:[Object(N.jsx)("h5",{className:"mb-0",children:"Total Owed"}),Object(N.jsxs)("h5",{className:"mb-0 ml-1 text-primary",children:["$",t?function(e){var t=0;return e.forEach((function(e){t+=parseFloat(e.balance)})),t.toFixed(2)}(t):0]})]})]}),Object(N.jsx)(T.a,{sm:"12",md:"2",className:"d-md-flex justify-content-center align-items-center",children:Object(R.isLoaded)(c)&&Object(N.jsx)("div",{children:c&&c.allowNewClient&&Object(N.jsx)(d.b,{to:"/add",children:Object(N.jsx)(I.a,{color:"success",size:"sm",className:"px-3",children:"+ New"})})})})]}),Object(R.isLoaded)(t)&&Object(N.jsx)(k,{clients:t})]})})),P=c(439),U=c(440),G=c(441),z=c(442),W=c(443),F=c(444),q=c(445),$=Object(E.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,c){C.signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.authError,c=e.signIn,a=Object(n.useState)(""),i=Object(h.a)(a,2),r=i[0],s=i[1],l=Object(n.useState)(""),o=Object(h.a)(l,2),j=o[0],d=o[1],b=function(e){"email"===e.target.id?s(e.target.value):d(e.target.value)};return Object(N.jsx)(O.a,{className:"mt-5",children:Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",md:{size:6,offset:3},children:Object(N.jsx)(P.a,{children:Object(N.jsxs)(U.a,{children:[Object(N.jsxs)("div",{className:"d-flex justify-content-center mb-2",children:[Object(N.jsx)("div",{className:"d-flex align-items-center",children:Object(N.jsx)("span",{className:"text-primary mr-2",children:Object(N.jsx)("i",{className:"fas fa-lock"})})}),Object(N.jsx)("h2",{className:"text-uppercase text-primary font-weight-bold mb-0",children:"Login"})]}),Object(N.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),c({email:r,password:j})},children:[Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"exampleEmail",children:"Email"}),Object(N.jsx)(F.a,{type:"email",value:r,id:"email",placeholder:"Email",onChange:b})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"examplePassword",children:"Password"}),Object(N.jsx)(F.a,{type:"password",value:j,id:"password",placeholder:"Password",onChange:b})]}),Object(N.jsx)(I.a,{color:"primary",block:!0,children:"Login"})]}),t&&Object(N.jsx)(q.a,{className:"mt-3",color:"danger",children:t})]})})})})})})),M=Object(E.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,c){C.createUserWithEmailAndPassword(e.email,e.password).then((function(t){return y.collection("users").doc(t.user.uid).set({name:e.name}),t.user.uid})).then((function(e){y.collection("setting").doc(e).set({allowNewClient:!0,disabledBalanceOnAdd:!1,disabledBalanceOnEdit:!1}).then((function(){t({type:"SIGNUP_SUCCESS"})}))})).catch((function(e){t({type:"SIGNUP_ERROR",err:e.message})}))}}(t))}}}))((function(e){var t=e.authError,c=e.signUp,a=Object(n.useState)(""),i=Object(h.a)(a,2),r=i[0],s=i[1],l=Object(n.useState)(""),o=Object(h.a)(l,2),j=o[0],d=o[1],b=Object(n.useState)(""),u=Object(h.a)(b,2),m=u[0],x=u[1],f=function(e){"name"===e.target.id?s(e.target.value):"email"===e.target.id?d(e.target.value.trim()):x(e.target.value.trim())};return Object(N.jsx)(O.a,{className:"mt-5",children:Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",md:{size:6,offset:3},children:Object(N.jsx)(P.a,{children:Object(N.jsxs)(U.a,{children:[Object(N.jsxs)("div",{className:"d-flex justify-content-center mb-2",children:[Object(N.jsx)("div",{className:"d-flex align-items-center",children:Object(N.jsx)("span",{className:"text-primary mr-2",children:Object(N.jsx)("i",{className:"fas fa-lock"})})}),Object(N.jsx)("h2",{className:"text-uppercase text-primary font-weight-bold mb-0",children:"Register"})]}),Object(N.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),c({name:r,email:j,password:m})},children:[Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"name",children:"Name"}),Object(N.jsx)(F.a,{type:"text",value:r,id:"name",placeholder:"Name",pattern:"[A-Za-z0-9_ ]{3,}",title:"Minimum three letter name.",onChange:f,required:!0})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"email",children:"Email"}),Object(N.jsx)(F.a,{type:"email",value:j,id:"email",placeholder:"Email",onChange:f})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"password",children:"Password"}),Object(N.jsx)(F.a,{type:"password",value:m,id:"password",placeholder:"Password",pattern:"[a-zA-Z0-9~!@#$%^&*]{6,}",title:"Password must be atleast 6 characters. Should contain letters, number or special characters.",onChange:f,required:!0})]}),Object(N.jsx)(I.a,{color:"primary",size:"sm",block:!0,children:"Register"})]}),t&&Object(N.jsx)(q.a,{className:"mt-3",color:"danger",children:t})]})})})})})})),Z=c(448),Q=c(449),J=c(450),V=c(451),H=c(455),K=c(452),X=c(453),Y=c(454),ee=c(446),te=c(447),ce=function(e){var t=e.modal,c=e.toggle,a=e.removeClient;return Object(N.jsx)("div",{children:Object(N.jsxs)(Y.a,{isOpen:t,toggle:c,children:[Object(N.jsx)(ee.a,{children:Object(N.jsx)("h4",{className:"text-center",children:"Do you want to delete client?"})}),Object(N.jsxs)(te.a,{children:[Object(N.jsx)(I.a,{color:"danger",onClick:a,children:"Delete"})," ",Object(N.jsx)(I.a,{color:"secondary",onClick:c,children:"Cancel"})]})]})})},ae=Object(_.c)(Object(E.b)((function(e,t){var c=e.firestore.ordered;return{id:t.match.params.id,auth:e.firebase.auth,client:c.clients?c.clients[0]:null}}),(function(e){return{updateBalance:function(t,c){return e(function(e,t){return function(c,a){y.collection("clients").doc("/"+e).update({balance:t}).then((function(){c({type:"UPDATE_BALANCE"})})).catch((function(e){c({type:"UPDATE_BALANCE_ERROR",err:e.message})}))}}(t,c))},deleteClient:function(t){return e(function(e){return function(t,c){y.collection("clients").doc("/"+e).delete().then((function(){t({type:"DELETE_CLIENT"})})).catch((function(e){t({type:"DELETE_CLIENT_ERROR",err:e.message})}))}}(t))}}})),Object(R.firestoreConnect)((function(e){return[{collection:"clients",doc:e.id}]})))((function(e){var t=e.client,c=e.history,a=e.updateBalance,i=e.deleteClient,r=Object(n.useState)(""),s=Object(h.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)(!1),b=Object(h.a)(j,2),u=b[0],m=b[1],x=function(){m(!u)};return t?Object(N.jsxs)(O.a,{children:[Object(N.jsx)(D.a,{children:Object(N.jsxs)(T.a,{sm:"12",className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)("div",{children:Object(N.jsxs)(d.b,{exact:!0,to:"/",className:"text-primary d-flex align-items-center",children:[Object(N.jsx)("i",{className:"fas fa-arrow-circle-left mr-1"}),Object(N.jsx)("p",{className:"font-weight-bold mb-0",children:"Back To Dashboard"})]})}),Object(N.jsxs)(Z.a,{children:[Object(N.jsx)(I.a,{color:"secondary",onClick:function(){return c.push("/edit/".concat(t.id))},children:"Edit"}),Object(N.jsx)(I.a,{color:"danger",onClick:x,children:"Delete"}),Object(N.jsx)(ce,{modal:u,toggle:x,removeClient:function(){x(),i(t.id),c.push("/")}})]})]})}),Object(N.jsx)(D.a,{className:"mt-3",children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(Q.a,{children:Object(N.jsxs)("h5",{className:"text-truncate font-weight-bold mb-0 text-capitalize",children:[Object(N.jsx)("span",{children:t.firstName})," ",Object(N.jsx)("span",{children:t.lastName})]})}),Object(N.jsxs)(U.a,{children:[Object(N.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[Object(N.jsxs)("h5",{className:"font-weight-bold mb-0",children:["Client ID: ",Object(N.jsx)("span",{className:"font-weight-normal",children:t.id})]}),Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsxs)("h4",{className:"font-weight-bold mb-0",children:["Balance: ",Object(N.jsxs)("span",{className:"font-weight-normal text-primary",children:["$",t.balance]})]}),Object(N.jsx)("span",{className:"ml-2 text-primary",id:"toggler",children:Object(N.jsx)("i",{className:"fas fa-pencil-alt"})})]})]}),Object(N.jsx)(J.a,{toggler:"#toggler",className:"clearfix",children:Object(N.jsx)(G.a,{className:"float-right mt-3",onSubmit:function(e){e.preventDefault(),a(t.id,l),o("")},children:Object(N.jsxs)(V.a,{children:[Object(N.jsx)(F.a,{type:"text",id:"balance",placeholder:"Add New Balance",value:l,pattern:"^\\d+\\.\\d\\d$",title:"Valid balance is 10.00, 10.90 or 0.78.",onChange:function(e){return o(e.target.value)},required:!0}),Object(N.jsx)(H.a,{addonType:"append",children:Object(N.jsx)(I.a,{outline:!0,color:"secondary",children:"Update"})})]})})}),Object(N.jsxs)(K.a,{className:"mt-3",children:[Object(N.jsx)(X.a,{children:Object(N.jsxs)("p",{className:"font-weight-bold mb-0",children:["Contact Email: ",Object(N.jsx)("span",{className:"font-weight-lighter",children:t.email})]})}),Object(N.jsx)(X.a,{children:Object(N.jsxs)("p",{className:"font-weight-bold mb-0",children:["Contact Number: ",Object(N.jsx)("span",{className:"font-weight-lighter",children:t.mobile})]})})]})]})]})})})]}):Object(N.jsx)("div",{})})),ne=c(58),ie=function(e){var t=e.firstName,c=void 0===t?"":t,a=e.lastName,n=void 0===a?"":a,i=e.email,r=void 0===i?"":i,s=e.mobile,l=void 0===s?"":s,o=e.balance,j=e.handleChange,d=e.handleSubmit,b=e.disableBalance;return Object(N.jsxs)(G.a,{onSubmit:d,children:[Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"name",children:"First Name"}),Object(N.jsx)(F.a,{type:"text",value:c,id:"firstName",placeholder:"First Name",pattern:"[A-Za-z0-9_ ]{3,}",title:"Minimum three letter name.",onChange:j,required:!0})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"name",children:"Last Name"}),Object(N.jsx)(F.a,{type:"text",value:n,id:"lastName",placeholder:"Last Name",pattern:"[A-Za-z0-9_ ]{3,}",title:"Minimum three letter name.",onChange:j,required:!0})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"email",children:"Email"}),Object(N.jsx)(F.a,{type:"email",value:r,id:"email",placeholder:"Email",onChange:j})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"name",children:"Mobile Number"}),Object(N.jsx)(F.a,{type:"text",value:l,id:"mobile",placeholder:"Mobile Number",pattern:"[0-9]{10}",title:"Mobile Number must be of 10 digit.",onChange:j,required:!0})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(W.a,{for:"name",children:"Balance"}),Object(N.jsx)(F.a,{type:"text",value:"0.00"!==o?o:"",disabled:b,id:"balance",placeholder:"0.00",pattern:"^\\d+\\.\\d\\d$",title:"Valid balance is 10.00, 10.90 or 0.78.",onChange:j})]}),Object(N.jsx)(I.a,{color:"primary",block:!0,children:"Submit"})]})},re=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={firstName:"",lastName:"",email:"",mobile:"",balance:"0.00"},e.handleChange=function(t){e.setState(Object(ne.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.addClient(e.state),e.props.history.push("/")},e}return Object(l.a)(c,[{key:"render",value:function(){var e=this.props.setting;return Object(N.jsx)("div",{children:Object(N.jsxs)(O.a,{children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsx)("div",{children:Object(N.jsxs)(d.b,{exact:!0,to:"/",className:"text-primary d-flex align-items-center",children:[Object(N.jsx)("i",{className:"fas fa-arrow-circle-left mr-1"}),Object(N.jsx)("p",{className:"font-weight-bold mb-0",children:"Back To Dashboard"})]})})})}),Object(N.jsx)(D.a,{className:"mt-3",children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(Q.a,{children:"Edit Settings"}),Object(N.jsx)(U.a,{children:Object(R.isLoaded)(e)&&!Object(R.isEmpty)(e)&&Object(N.jsx)(ie,{firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,mobile:this.state.mobile,balance:this.state.balance,handleChange:this.handleChange,handleSubmit:this.handleSubmit,disableBalance:e.disabledBalanceOnAdd})})]})})})]})})}}]),c}(n.Component),se=Object(_.c)(Object(E.b)((function(e){var t=e.firebase.auth,c=e.firestore.ordered;return{setting:c.setting?c.setting[0]:null,auth:t}}),(function(e){return{addClient:function(t){return e(function(e){return function(t,c){var n=c().firebase.auth.uid;y.collection("clients").add(Object(a.a)(Object(a.a)({},e),{},{authorId:n})).then((function(){t({type:"ADD_CLIENT",clientDetail:e})})).catch((function(e){t({type:"ADD_CLIENT_ERROR",err:e.message})}))}}(t))}}})),Object(R.firestoreConnect)((function(e){return[{collection:"setting",doc:e.auth.uid}]})))(re),le=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={firstName:"",lastName:"",email:"",mobile:"",balance:""},e.handleChange=function(t){e.setState(Object(ne.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.updateClientDetail(e.props.client.id,e.state),e.props.history.push("/")},e}return Object(l.a)(c,[{key:"componentWillReceiveProps",value:function(e){var t=e.client;t&&this.setState(Object(a.a)({},t))}},{key:"render",value:function(){var e=this.props,t=e.client,c=e.setting;return t?Object(N.jsx)("div",{children:Object(N.jsxs)(O.a,{children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsx)("div",{children:Object(N.jsxs)(d.b,{exact:!0,to:"/",className:"text-primary d-flex align-items-center",children:[Object(N.jsx)("i",{className:"fas fa-arrow-circle-left mr-1"}),Object(N.jsx)("p",{className:"font-weight-bold mb-0",children:"Back To Dashboard"})]})})})}),Object(N.jsx)(D.a,{className:"mt-3",children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(Q.a,{children:"Edit Settings"}),Object(N.jsx)(U.a,{children:Object(R.isLoaded)(c)&&!Object(R.isEmpty)(c)&&Object(N.jsx)(ie,{firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,mobile:this.state.mobile,balance:this.state.balance,handleChange:this.handleChange,handleSubmit:this.handleSubmit,disableBalance:c.disabledBalanceOnEdit})})]})})})]})}):Object(N.jsx)("div",{})}}]),c}(n.Component),oe=Object(_.c)(Object(E.b)((function(e,t){var c=e.firestore.ordered;return{id:t.match.params.id,auth:e.firebase.auth,client:c.clients?c.clients[0]:null,setting:c.setting?c.setting[0]:null}}),(function(e){return{updateClientDetail:function(t,c){return e(function(e,t){return function(c,n){var i=n().firebase.auth.uid;y.collection("clients").doc("/"+e).set(Object(a.a)(Object(a.a)({},t),{},{authorId:i})).then((function(){c({type:"UPDATE_CLIENT_DETAIL"})})).catch((function(e){c({type:"UPDATE_CLIENT_DETAIL_ERROR",err:e.message})}))}}(t,c))}}})),Object(R.firestoreConnect)((function(e){return[{collection:"clients",doc:e.id},{collection:"setting",doc:e.auth.uid}]})))(le),je=c(456),de=Object(_.c)(Object(E.b)((function(e,t){var c=e.firestore.ordered;return{id:e.firebase.auth.uid,setting:c.setting?c.setting[0]:null}}),(function(e){return{updateSetting:function(t){return e(function(e){return function(t,c){var a=c().firebase.auth.uid;y.collection("setting").doc(a).set(e).then((function(){t({type:"UPDATE_SETTING",data:e})})).catch((function(e){t({type:"UPDATE_SETTING_ERROR",err:e.message})}))}}(t))}}})),Object(R.firestoreConnect)((function(e){return[{collection:"setting",doc:e.id}]})))((function(e){var t=e.setting,c=e.updateSetting,a=Object(n.useState)(),i=Object(h.a)(a,2),r=i[0],s=i[1],l=Object(n.useState)(),o=Object(h.a)(l,2),j=o[0],b=o[1],u=Object(n.useState)(),m=Object(h.a)(u,2),x=m[0],f=m[1],p=Object(n.useState)(!1),g=Object(h.a)(p,2),v=g[0],E=g[1];Object(n.useEffect)((function(){s(!!t&&t.allowNewClient),b(!!t&&t.disabledBalanceOnAdd),f(!!t&&t.disabledBalanceOnEdit)}),[t]);var w=function(e){"allowNewClient"===e.target.id?s(!r):"disabledBalanceOnAdd"===e.target.id?b(!j):f(!x),E(!0)};return Object(n.useEffect)((function(){v&&(c({allowNewClient:r,disabledBalanceOnAdd:j,disabledBalanceOnEdit:x}),E(!1))}),[v]),Object(N.jsxs)(O.a,{children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsx)("div",{children:Object(N.jsxs)(d.b,{exact:!0,to:"/",className:"text-primary d-flex align-items-center",children:[Object(N.jsx)("i",{className:"fas fa-arrow-circle-left mr-1"}),Object(N.jsx)("p",{className:"font-weight-bold mb-0",children:"Back To Dashboard"})]})})})}),Object(N.jsx)(D.a,{className:"mt-3",children:Object(N.jsx)(T.a,{sm:"12",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(Q.a,{children:"Edit Settings"}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(je.a,{type:"checkbox",checked:r,id:"allowNewClient",label:"Allow New Client",inline:!0,onChange:w})}),Object(N.jsx)("div",{children:Object(N.jsx)(je.a,{type:"checkbox",checked:j,id:"disabledBalanceOnAdd",label:"Disable Balance on Add",inline:!0,onChange:w})}),Object(N.jsx)("div",{children:Object(N.jsx)(je.a,{type:"checkbox",checked:x,id:"disabledBalanceOnEdit",label:"Disable Balance of Edit",inline:!0,onChange:w})})]})]})})})]})})),be=c(102),he=Object(E.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.component,c=e.auth,n=Object(be.a)(e,["component","auth"]);return Object(N.jsx)(b.b,Object(a.a)(Object(a.a)({},n),{},{render:function(e){if(Object(R.isLoaded)(c))return c.uid?Object(N.jsx)(t,Object(a.a)({},e)):Object(N.jsx)(b.a,{to:"/login"})}}))})),ue=Object(E.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.component,c=e.auth,n=Object(be.a)(e,["component","auth"]);return Object(N.jsx)(b.b,Object(a.a)(Object(a.a)({},n),{},{render:function(e){if(Object(R.isLoaded)(c))return c.uid?Object(N.jsx)(b.a,{to:"/"}):Object(N.jsx)(t,Object(a.a)({},e))}}))})),Oe=function(){return Object(N.jsx)(d.a,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)(A,{}),Object(N.jsx)("div",{className:"mt-5 pt-4 mb-5",children:Object(N.jsxs)(b.d,{children:[Object(N.jsx)(ue,{path:"/login",component:$}),Object(N.jsx)(ue,{path:"/register",component:M}),Object(N.jsx)(he,{exact:!0,path:"/",component:B}),Object(N.jsx)(he,{path:"/client/:id",component:ae}),Object(N.jsx)(he,{path:"/add",component:se}),Object(N.jsx)(he,{path:"/setting",component:de}),Object(N.jsx)(he,{path:"/edit/:id",component:oe}),Object(N.jsx)(he,{path:"*",render:function(){return Object(N.jsx)(b.a,{to:"/"})}})]})})]})})},me=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsx)(Oe,{})})}}]),c}(n.Component),xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pe=c(101),ge={authError:null},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(a.a)(Object(a.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return Object(a.a)(Object(a.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return Object(a.a)({},e);case"SIGNUP_SUCCESS":return Object(a.a)(Object(a.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return Object(a.a)(Object(a.a)({},e),{},{authError:t.err});default:return e}},ve={err:null},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CLIENT":return Object(a.a)(Object(a.a)({},e),{},{err:null});case"ADD_CLIENT_ERROR":return Object(a.a)(Object(a.a)({},e),{},{err:t.err});case"UPDATE_BALANCE":return Object(a.a)(Object(a.a)({},e),{},{err:null});case"UPDATE_BALANCE_ERROR":return Object(a.a)(Object(a.a)({},e),{},{err:t.err});case"DELETE_CLIENT":return Object(a.a)(Object(a.a)({},e),{},{err:null});case"DELETE_CLIENT_ERROR":return Object(a.a)(Object(a.a)({},e),{},{err:t.err});case"UPDATE_CLIENT_DETAIL":return Object(a.a)(Object(a.a)({},e),{},{err:null});case"UPDATE_CLIENT_DETAIL_ERROR":return Object(a.a)(Object(a.a)({},e),{},{err:t.err});default:return e}},we={err:null},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTING":return Object(a.a)(Object(a.a)({},e),{},{err:null});case"UPDATE_SETTING_ERROR":return Object(a.a)(Object(a.a)({},e),{},{err:t.err});default:return e}},Ce=Object(_.b)({setting:ye,auth:Ne,client:Ee,firestore:pe.firestoreReducer,firebase:R.firebaseReducer}),Se=c(226),Re=Object(_.d)(Ce,Object(_.c)(Object(_.a)(Se.a))),Ae={firebase:w.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Re.dispatch,createFirestoreInstance:pe.createFirestoreInstance};r.a.render(Object(N.jsx)(E.a,{store:Re,children:Object(N.jsx)(R.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},Ae),{},{children:Object(N.jsx)(me,{})}))}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-redux-fire-client-panel",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-redux-fire-client-panel","/service-worker.js");xe?(!function(e,t){fetch(e).then((function(c){var a=c.headers.get("content-type");404===c.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fe(t,e)}))}}()}},[[427,1,2]]]);
//# sourceMappingURL=main.6913888c.chunk.js.map